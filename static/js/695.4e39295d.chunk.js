"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[695],{695:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(861),s=n(439),u=n(757),i=n.n(u),c=n(791),a=n(857),o=n(125),l=n(368),d=n(184),f=function(e){var t=e.onSubmit,n=e.query;return(0,d.jsx)("div",{children:(0,d.jsxs)("form",{onSubmit:t,children:[(0,d.jsx)("button",{type:"submit",children:(0,d.jsx)("span",{children:"Search"})}),(0,d.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,name:"searchText",defaultValue:n})]})})},v=n(87),h=function(){var e=(0,c.useState)(""),t=(0,s.Z)(e,2),n=t[0],u=t[1],h=(0,c.useState)(null),x=(0,s.Z)(h,2),m=x[0],p=x[1],j=(0,c.useState)(a.n.idle),g=(0,s.Z)(j,2),S=g[0],b=g[1],_=(0,c.useState)(null),Z=(0,s.Z)(_,2),k=Z[0],w=Z[1],y=(0,c.useState)(!1),q=(0,s.Z)(y,2),T=q[0],C=q[1],L=(0,v.lr)(),O=(0,s.Z)(L,2),D=O[0],E=O[1],F=D.get("q");return(0,c.useEffect)((function(){if(T){var e=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(a.n.pending),e.next=4,(0,o.MK)(n);case 4:(t=e.sent).results.length>0&&p(t),b(a.n.success),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),b(a.n.error),w(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}}),[n,T]),(0,d.jsxs)("div",{children:[(0,d.jsx)(f,{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.searchText.value.trim();t&&t!==n&&(E({q:t}),u(t),T||C(!0))},query:F}),S===a.n.pending&&(0,d.jsx)("div",{children:"Loading.."}),S===a.n.error&&k&&(0,d.jsx)("div",{children:k.message}),m&&(0,d.jsx)(l.O,{movies:m})]})}},368:function(e,t,n){n.d(t,{O:function(){return i}});var r=n(689),s=n(87),u=n(184),i=function(e){var t=e.movies,n=(0,r.TH)();return console.log("moviesList location",n),(0,u.jsx)("div",{children:(0,u.jsx)("ul",{children:t.results.map((function(e){return(0,u.jsx)("li",{children:(0,u.jsx)(s.rU,{state:{from:n},to:"/movies/".concat(e.id),children:e.title})},e.id)}))})})}}}]);
//# sourceMappingURL=695.4e39295d.chunk.js.map